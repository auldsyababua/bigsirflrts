# Story 3.4: List Management Commands

## Story

**As a** operations team member  
**I want to** create and manage task lists via Telegram  
**So that** I can organize work by project, client, or operational area

## Context

Lists are essential for organizing our internal operations - separating infrastructure tasks from customer support, bug fixes from feature work, and urgent from routine tasks. This enables better workload visibility across the 5-10 person team.

## Acceptance Criteria

### Required

1. **Create List Command**
   - [ ] `/createlist` and `/newlist` commands work identically
   - [ ] Parse list name and optional description
   - [ ] Support visibility setting (team/private)
   - [ ] Auto-assign to current project context
   - [ ] Confirmation before creation

2. **Update List Command**
   - [ ] `/updatelist` shows numbered list of user's lists
   - [ ] Allow name changes
   - [ ] Allow description updates
   - [ ] Support archiving lists (soft delete)
   - [ ] Maintain task associations

3. **View Lists Command**
   - [ ] `/viewlists` shows all accessible lists
   - [ ] Display task count per list
   - [ ] Show overdue/critical task indicators
   - [ ] Format for mobile readability:

     ```
     ğŸ“Š Your Lists
     
     ACTIVE LISTS:
     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
     ğŸ“‹ Infrastructure (12 tasks â€¢ 3 overdue)
     ğŸ“‹ Customer Support (8 tasks â€¢ 2 critical)
     ğŸ“‹ Bug Fixes (5 tasks â€¢ All on track)
     ```

4. **List Assignment During Task Creation**
   - [ ] Detect list references in natural language
   - [ ] Prompt for list if ambiguous
   - [ ] Support "add to [list]" syntax
   - [ ] Default to "Unassigned" if no list specified

5. **Natural Language Support**
   - [ ] Parse: "Create infrastructure list for server work"
   - [ ] Parse: "New list for Q1 customer onboarding"
   - [ ] Parse: "Add this task to bug fixes list"

### Testing

- [ ] Create 5 different lists
- [ ] Add tasks to each list
- [ ] Update list names
- [ ] Archive and restore lists
- [ ] Test visibility (private vs team)

## Technical Notes

- Lists map to OpenProject "Categories" or custom field
- Soft delete only - maintain audit trail
- Lists are workspace-specific in OpenProject

## UX References

- Lines 194-258 in Telegram-Bot-UX-Flows.md
- Lines 224-238 for creation flow
- Lines 239-258 for view format

## Dependencies

- Depends on: Story 2.2 (OpenAI must recognize LIST entity)
- Related to: Story 3.1 (Bot command structure)

## Effort

- **Points**: 5
- **Risk**: Low (well-defined in UX doc)
- **Priority**: P1 - Essential for operations

## Definition of Done

- [ ] All list commands functional
- [ ] Lists persist in OpenProject
- [ ] Mobile-optimized display format
- [ ] Team tested with real operational lists
- [ ] LIST entity added to OpenAI schema
